@page "/clusters"
@inject ISnackbar Snackbar

<PageHeader Title="Clusters"
            Description="Manage the connections with your kubernetes clusters."
            BreadcrumbItems="BreadcrumbItems">
    <PageHeaderActions>
        <AddButton Content="Add a cluster" Href="/clusters/add" />
    </PageHeaderActions>
</PageHeader>

<MudTable Items="@Items"
          Elevation="0"
          Hover="true"
          Loading="@IsLoading">
    <HeaderContent>
        <MudTh>Name</MudTh>
        <MudTh>Address</MudTh>
        <MudTh>Status</MudTh>
        <MudTh></MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd>@context.Name</MudTd>
        <MudTd>@context.Address</MudTd>
        <MudTd>
            <StatusChip Color="@(context.IsOperative ? Color.Success : Color.Error)"
                        Text="@(context.IsOperative ? "Operative" : "Not operative")" />
        </MudTd>
        <MudTd Style="text-align:right">
            <MudIconButton Icon="@Icons.Material.TwoTone.FileOpen" Href="@($"/clusters/{context.Id}")"></MudIconButton>
            <MudIconButton Icon="@Icons.Material.TwoTone.Edit" Href="@($"/clusters/{context.Id}/edit")"></MudIconButton>
        </MudTd>
    </RowTemplate>
</MudTable>
